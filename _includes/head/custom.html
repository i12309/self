{% comment %}
Included by `_includes/head.html`. Keep small hard overrides here so the theme and
header stay readable even if CSS is cached.
{% endcomment %}

{% if page.catalog %}
  {% assign _ver = site.github.build_revision | default: site.time | date: '%s' %}
  <link rel="stylesheet" href="{{ '/assets/css/catalog.css' | relative_url }}?v={{ _ver }}">
{% endif %}

<style>
  {% assign _theme = page.theme | default: 'dark' %}
  {% if _theme == 'light' %}
    :root { --bg: #ffffff; --border: #e6e6e6; --text: #111827; --muted: #6b7280; }
    html, body { color-scheme: light; }
  {% elsif _theme == 'black' %}
    :root { --bg: #0b0d10; --border: #1f2630; --text: #f3f6fb; --muted: #a2acbb; }
    html, body { color-scheme: dark; }
  {% else %}
    :root { --bg: #2b2f36; --border: #3b424d; --text: #e1e6ef; --muted: #b4bdca; }
    html, body { color-scheme: dark; }
  {% endif %}

  html, body {
    background-color: var(--bg) !important;
    color: var(--text) !important;
  }

  .page-content, .site-header, .site-footer {
    background-color: var(--bg) !important;
  }

  .site-header, .site-footer {
    border-color: var(--border) !important;
  }

  .site-title, .site-title:visited,
  .site-nav .page-link, .site-nav .page-link:visited {
    color: var(--text) !important;
  }

  .site-nav .menu-icon > svg path {
    fill: var(--text) !important;
  }

  @media screen and (max-width: 600px) {
    .site-nav {
      background-color: var(--bg) !important;
      border-color: var(--border) !important;
    }
  }
</style>
